---
title: Loop
catalog: true
date: 2021-04-07
subtitle: 
lang: cn
header-img: /code/img/header_img/lml_bg.jpg
tags:
- C
categories:
- 基础
---

# 循环语句解析与图形打印

## 表达式的值

表达式分为两种：

- 赋值运算表达式

  使用到`=` `+=` `-=` `++` `--`等赋值运算符的式子，例如`b=5` `a++`等等，这些表达式都有**值**，他们的值取决于被赋值的变量是否为0，为0则表达式的值为0（假），非0则表达式的值为1（真）。

- 关系运算表达式

  使用到`>` `==` `<=`等关系运算符的式子，例如`a<=b` `c==5`等等，这些表达式的值取决于表达式是否成立，条件成立则值为1（真），条件不成立则为0（假）。

> 可理解为数学中的命题真假性

这里是一些表达式的值：



## 循环语句

### while循环

一般形式为：

```c
while(表达式){
  语句块
}
```

意思是，先计算“表达式”的值，当值为真（非0）时， 执行“语句块”；执行完“语句块”，再次计算表达式的值，如果为真，继续执行“语句块”……这个过程会一直重复，直到表达式的值为假（0），就退出循环，执行 while 后面的代码。

通常将“表达式”称为循环条件，把“语句块”称为循环体，整个循环的过程就是不停判断循环条件、并执行循环体代码的过程。

用 while 循环计算1加到100的值：

```c
#include <stdio.h>
int main(){    
    int i=1, sum=0;    
    while(i<=100){        
        sum+=i;        
        i++;    
    }    
    printf("%d\n",sum);    
    return 0;
}
```

运行结果：

```
5050
```

代码分析：

1. 程序运行到 while 时，因为 i=1，i<=100 成立，所以会执行循环体；执行结束后 i 的值变为 2，sum 的值变为 1。
2. 接下来会继续判断 i<=100是否成立，因为此时 i=2，i<=100 成立，所以继续执行循环体；执行结束后 i 的值变为 3，sum 的值变为3。
3. 重复执行步骤 2。
4.  当循环进行到第100次，i 的值变为 101，sum 的值变为5050；因为此时 i<=100 不再成立，所以就退出循环，不再执行循环体，转而执行while循环后面的代码。

### for循环

for 循环的一般形式为：

```c
for(表达式1; 表达式2; 表达式3){
  语句块
}
```

它的运行过程为：
1) 先执行“表达式1”。

2) 再执行“表达式2”，如果它的值为真（非0），则执行循环体，否则结束循环。

3) 执行完循环体后再执行“表达式3”。

4) 重复执行步骤 2) 和 3)，直到“表达式2”的值为假，就结束循环。

上面的步骤中，2) 和 3) 是一次循环，会重复执行，for 语句的主要作用就是不断执行步骤 2) 和 3)。

### 两种循环的对比

上面我们使用 while 循环来计算1加到100的值，代码如下：

```c
#include <stdio.h>
int main(){    
    int i, sum=0;    
    i = 1;  //语句①    
    while(i<=100 /*语句②*/ ){        
        sum+=i;        
        i++;  //语句③    
    }    
    printf("%d\n",sum);    
    return 0;
}
```

可以看到，语句①②③被放到了不同的地方，代码结构较为松散。

为了让程序看起来更为整洁，可以使用for循环来代替，如下所示：

```c
#include <stdio.h>
int main(){    
    int i, sum=0;    
    for(i=1/*语句①*/; i<=100/*语句②*/; i++/*语句③*/){        
        sum+=i;    
    }    
    printf("%d\n",sum);    
    return 0;
}
```

在 for 循环中，语句①②③被集中到了一起，代码结构一目了然。

上面的`i`称为循环变量

所以当我们不需要循环变量时，常使用while循环

- 无限循环程序

  ```c
  #include <stdio.h>
  int main(){
      while(1){
      	printf("hello\n");
      }
      return 0;
  }
  ```

  这个程序将会一直运行下去（请勿轻易尝试）

- 通常的，若指定程序循环做n次相同的任务，也可这样做

  ```c
  #include <stdio.h>
  int main(){
      int n;
      scanf("%d",&n);
      while(n--){
      	printf("hello\n");
      }
      return 0;
  }
  ```

  这将打印对应次数的`hello`

  可进行一定的修改，查看n对应的变化，如下：

  ![](1.png)

  `n--`先判断n是否为0，再进行递减，当n为0时退出循环，以此达到循环n次的功能。

## 打印图形

>  大循环控制行数量，每个大循环中的两个小循环分别控制空格和星号的打印

- 打印一个指定大小的平行四边形

![](2.png)

> 空格数等于高(n)-行数(i)-1，星号数等于高(h)

- 打印一个指定大小的三角形

![](3.png)

> 空格数等于高(n)-行数(i)-1，星号数等于行数(i)*2+1